<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="google" content="notranslate" />
<link rel="icon" href="/assets/icon.png" />
<title>#php# 复习下php 一个简单的表单验证 - every day code </title>
<link rel="stylesheet" href="/assets/acyort.css" />
</head>
<body>

<div class="header">
    <div class="center">
        <h1><a href="/">every day code</a></h1>
        <p></p>
    </div>
    <div class="menu">
        <a href="/">home</a>
        <a href="/page/about/">about</a>
        <a href="/archives/">archives</a>
    </div>
</div>

<div id="post" class="center">

    <h1>#php# 复习下php 一个简单的表单验证</h1>
    <p><a href="https://github.com/dyygtfx">dyygtfx</a> Updated at Feb 11, 2015</p>

    <div class="content"><pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=<span class="hljs-string">"en"</span>&gt;
&lt;head&gt;
    &lt;meta charset=<span class="hljs-string">"UTF-8"</span>&gt;
    &lt;title&gt;Document&lt;/title&gt;
    &lt;style&gt;
        .error {color: #f0<span class="hljs-number">0</span>;}
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;?php
    $nameErr = $emailErr = $genderErr = $websiteErr = <span class="hljs-string">''</span>;
    $name = $email = $gender = $comment = $website = <span class="hljs-string">''</span>;
    <span class="hljs-keyword">if</span> ($_SERVER[<span class="hljs-string">"REQUEST_METHOD"</span>] == <span class="hljs-string">"POST"</span>) {
        if (empty($_POST[<span class="hljs-string">'name'</span>])) {
            $name = <span class="hljs-string">"Name is required"</span>;
        }
        else {
            $nameErr = test_input ($_POST[<span class="hljs-string">"name"</span>]);
        }
        if (empty($_POST[<span class="hljs-string">"email"</span>])) {
            $emailErr = <span class="hljs-string">"Emial is required"</span>;
        }
        else {
            $email = test_input($_POST[<span class="hljs-string">"email"</span>]);
        }

        if (empty($_POST[<span class="hljs-string">"website"</span>])) {
            $website = <span class="hljs-string">""</span>;
        }
        else {
            $website = test_input($_POST[<span class="hljs-string">"website"</span>]);
        }
        if (empty($_POST[<span class="hljs-string">"comment"</span>])) {
            $comment = <span class="hljs-string">""</span>;
        }
        else {
            $gender = test_input($_POST[<span class="hljs-string">"comment"</span>]);
        }
        if (empty($_POST[<span class="hljs-string">"gender"</span>])) {
            $gender = <span class="hljs-string">"Gender is required"</span>;
        }
        else {
            $gender = test_input($_POST[<span class="hljs-string">"gender"</span>])
        }
    }
    <span class="hljs-keyword">function</span> test_input ($data) {
        $data = trim($data);
        $data = stripcslashes($data);
        $data = htmlspecialchars($data);
        return = $data;
    }
    ?&gt;
    &lt;h2&gt;php表单验证&lt;/h2&gt;
    &lt;p&gt;&lt;span class=<span class="hljs-string">"error"</span>&gt;required&lt;/span&gt;&lt;/p&gt;
    &lt;form action=<span class="hljs-string">"&lt;?php echo htmlspecialchars($_SERVER["</span>PHP_SELF<span class="hljs-string">"]) ?&gt;"</span>&gt;
      Name: &lt;input type=<span class="hljs-string">"text"</span> name=<span class="hljs-string">"name"</span>&gt;
      &lt;span class=<span class="hljs-string">"error"</span>&gt;* &lt;?php echo $nameErr;?&gt;&lt;/span&gt;
      &lt;br&gt;&lt;br&gt;
      E-mail: &lt;input type=<span class="hljs-string">"text"</span> name=<span class="hljs-string">"email"</span>&gt;
      &lt;span class=<span class="hljs-string">"error"</span>&gt;* &lt;?php echo $emailErr;?&gt;&lt;/span&gt;
      &lt;br&gt;&lt;br&gt;
      Website: &lt;input type=<span class="hljs-string">"text"</span> name=<span class="hljs-string">"website"</span>&gt;
      &lt;span class=<span class="hljs-string">"error"</span>&gt;&lt;?php echo $websiteErr;?&gt;&lt;/span&gt;
      &lt;br&gt;&lt;br&gt;
      Comment: &lt;textarea name=<span class="hljs-string">"comment"</span> rows=<span class="hljs-string">"5"</span> cols=<span class="hljs-string">"40"</span>&gt;&lt;/textarea&gt;
      &lt;br&gt;&lt;br&gt;
      Gender:
      &lt;input type=<span class="hljs-string">"radio"</span> name=<span class="hljs-string">"gender"</span> <span class="hljs-keyword">value</span>=<span class="hljs-string">"female"</span>&gt;Female
      &lt;input type=<span class="hljs-string">"radio"</span> name=<span class="hljs-string">"gender"</span> <span class="hljs-keyword">value</span>=<span class="hljs-string">"male"</span>&gt;Male
      &lt;span class=<span class="hljs-string">"error"</span>&gt;* &lt;?php echo $genderErr;?&gt;&lt;/span&gt;
      &lt;br&gt;&lt;br&gt;
      &lt;input type=<span class="hljs-string">"submit"</span> name=<span class="hljs-string">"submit"</span> <span class="hljs-keyword">value</span>=<span class="hljs-string">"Submit"</span>&gt;
  &lt;/form&gt;
  &lt;?php
  echo <span class="hljs-string">"&lt;h2&gt;Your Input:&lt;/h2&gt;"</span>;
  echo $name;
  echo <span class="hljs-string">"&lt;br&gt;"</span>;
  echo $email;
  echo <span class="hljs-string">"&lt;br&gt;"</span>;
  echo $website;
  echo <span class="hljs-string">"&lt;br&gt;"</span>;
  echo $comment;
  echo <span class="hljs-string">"&lt;br&gt;"</span>;
  echo $gender;
  ?&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre></div>

    <div class="label">
    <div><a href="/tags/PHP/">#PHP</a></div>
    </div>

    <div class="comment_list hide" id="disqus_thread"></div>
    <div id="duoshuo_thread" class="comment_list hide ds-thread" data-thread-key="49583956" data-title="" data-url=""></div>

    <button class="hide" data-id="49583956" id="comment">Add Comments</button>

</div>

<div class="footer">
    <div class="center">
        © 2016 every day code . <a target="_blank" href="https://github.com/LoeiFy/AcyOrt">AcyOrt</a> . <a target="_blank" href="/rss.xml">RSS</a>
    </div>
</div>

<script>

if ('哥特复兴'.length > 0) {
    document.getElementById('comment').classList.remove('hide')
}

var duoshuoQuery = {short_name: '哥特复兴'};

document.getElementById('comment').addEventListener('click', function() {

    this.style.display = 'none';

    var identifier = this.getAttribute('data-id'),
        title = document.title,
        url = location.href.split('?')[0];

    document.getElementById('duoshuo_thread').setAttribute('data-title', title)
    document.getElementById('duoshuo_thread').setAttribute('data-url', url)

    var disqus_config = function () {
        this.page.url = url;
        this.page.identifier = identifier;
    };

    var sc = document.createElement('script'); 
    sc.async = true;
    sc.src = (location.protocol == 'https:' ? 'https:' : 'http:') + '//哥特复兴.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(sc);

    if ('//哥特复兴.disqus.com/embed.js'.indexOf('disqus') > -1) {
        document.getElementById('disqus_thread').classList.remove('hide')
    }

    if ('//哥特复兴.disqus.com/embed.js'.indexOf('duoshuo') > -1) {
        document.getElementById('duoshuo_thread').classList.remove('hide')
    }

}, false)

</script>

</body>
</html>
